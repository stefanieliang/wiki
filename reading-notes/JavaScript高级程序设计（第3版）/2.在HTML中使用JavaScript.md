## 在HTML中使用JavaScript

> 本章内容
>
> - 使用<script>元素
> - 嵌入脚本与外部脚本
> - 文档模式对JavaScript的影响
> - 考虑禁用JavaScript的场景

### 1. `<script>`元素 

​	向 HTML页面中插入  JavaScript 的主要方法，就是使用`<script>`元素。HTML 4.01为` <script>`定义了下列属性。

​	使用`<script>`元素的方式有两种：直接在页面中嵌入 JavaScript 代码和包含外部 JavaScript 文件。在解析两种 JavaScript 文件（包括下载外部文件）时，页面的处理都会暂时停止。

​	通过`<script>`元素的 src 属性还可以包含来自**外部域**的 JavaScript 文件。`<img>`类似。

- async（异步）：可选。表示应该立即下载脚本，但不妨碍页面中的其他操作，比如下载其他资源或等待加载其他脚本。只对外部脚本文件有效。不能保证按顺序执行，一定在页面的 load 事件前执行，但可能会在 DOMContentLoaded  事件触发之前或之后执行。
- defer（延迟）：可选。表示脚本可以延迟到文档完全被解析和显示之后再执行。只对外部脚本文件有效。立即下载，延迟（顺序）执行，在 DOMContentLoaded 事件触发前执行。
- type：可选。`<script type="text/javascript"></script>`

### 2. 文档模式

​	通过使用文档类型（doctype）切换实现的。

- 混杂模式（quirks mode）

- 标准模式（standards mode）

  虽然两种模式只要影响CSS内容是呈现，但在某种情况下也会影响到 JavaScript 的解释执行。

### 3. `<noscript>`元素

​	包含在`<noscript>`元素中的内容只有在下列情况下才会显示出来：

- 浏览器不支持脚本
- 浏览器支持脚本，但脚本被禁用

### 4. 小结

​	把JavaScript插入到HTML页面中要使用`<script>`元素。使用这个元素可以把JavaScript敲入到HTML页面中，让脚本与标记混合在一起；也可以包含外部的JavaScript文件。而我们需要注意的地方有：

- 在包含外部 JavaScript文件时，必须将 src 属性设置为指向相应文件的 URL。而这个文件既可 以是与包含它的页面位于同一个服务器上的文件，也可以是其他任何域中的文件。
- 所有`<script>`元素都会按照它们在页面中出现的先后顺序依次被解析。在不使用 defer 和 async 属性的情况下，只有在解析完前面`<script>`元素中的代码之后，才会开始解析后面 `<script>`元素中的代码。 
- 由于浏览器会先解析完不使用 defer 属性的`<script>`元素中的代码，然后再解析后面的内容， 所以一般应该把`<script>`元素放在页面后，即主要内容后面，`</body>`标签前面。 
- 使用defer 属性可以让脚本在文档完全呈现之后再执行。延迟脚本总是按照指定它们的顺序执行。

- 使用 async 属性可以表示当前脚本不必等待其他脚本，也不必阻塞文档呈现。不能保证异步脚 本按照它们在页面中出现的顺序执行。 另外，使用`<noscript>`元素可以指定在不支持脚本的浏览器中显示的替代内容。但在启用了脚本 的情况下，浏览器不会显示`<noscript>`元素中的任何内容。 